# Missing Types Analysis
**Generated**: 2025-10-08
**Session**: 469a202dfd524197a368c08193c6a2e0
**Total CS0246 Errors**: 117 occurrences across 38 unique types

## Summary

This document categorizes all missing type errors (CS0246) found by the Roslyn analyzer to determine which need using statements vs. which need to be created.

## Category 1: Types Exist - Need Using Statements Only

### IServiceType
- **Namespace**: `FractalDataWorks.ServiceTypes`
- **Location**: EXISTS in codebase
- **Affected Files**:
  - `src\FractalDataWorks.Services.DataGateway\obj\Debug\net10.0\...\DataGatewayTypes.g.cs` (9 occurrences)

**Fix**: Add `using FractalDataWorks.ServiceTypes;` to generated file (source generator issue)

### ConnectionServiceBase<,,>
- **Namespace**: `FractalDataWorks.Services.Connections`
- **Location**: EXISTS in `ConnectionServiceBase.cs`
- **Affected Files**:
  - `src\FractalDataWorks.Services.Connections.MsSql\MsSqlService.cs` (1 occurrence)

**Fix**: Add `using FractalDataWorks.Services.Connections;`

## Category 2: DataContainers Feature Types (Half-Baked - Deferred to Feature Branch)

These types are part of the incomplete DataContainers feature that was deferred to `feature/data-containers-future`:

### DataCommandBase
- **Expected Namespace**: `FractalDataWorks.Services.DataGateway.Abstractions.Commands`
- **Occurrences**: 24 in MsSqlCommandTranslator.cs, MsSqlExternalConnection.cs
- **Status**: DOES NOT EXIST (part of DataContainers)

### DataContainer
- **Expected Namespace**: `FractalDataWorks.DataContainers`
- **Occurrences**: 12 in MsSqlService.cs, MsSqlExternalConnection.cs
- **Status**: DOES NOT EXIST (part of DataContainers)

### DataPath
- **Expected Namespace**: `FractalDataWorks.DataSets.Abstractions`
- **Occurrences**: 3 in MsSqlService.cs, MsSqlExternalConnection.cs
- **Status**: DOES NOT EXIST (part of DataContainers)

### DataRecord
- **Expected Namespace**: `FractalDataWorks.DataSets.Abstractions`
- **Occurrences**: 4 in MsSqlExternalConnection.cs
- **Status**: DOES NOT EXIST (part of DataContainers)

### Datum
- **Expected Namespace**: `FractalDataWorks.DataSets.Abstractions`
- **Occurrences**: 2 in MsSqlExternalConnection.cs
- **Status**: DOES NOT EXIST (part of DataContainers)

### DatumCategory
- **Expected Namespace**: `FractalDataWorks.DataSets.Abstractions`
- **Occurrences**: 1 in MsSqlExternalConnection.cs
- **Status**: DOES NOT EXIST (part of DataContainers)

### IDataCommand
- **Expected Namespace**: `FractalDataWorks.Services.DataGateway.Abstractions.Commands`
- **Occurrences**: 2 in MsSqlExternalConnection.cs
- **Status**: DOES NOT EXIST (part of DataContainers)

### DataQueryCommand
- **Expected Namespace**: `FractalDataWorks.Services.DataGateway.Abstractions.Commands`
- **Occurrences**: 3 in RestService.cs
- **Status**: DOES NOT EXIST (part of DataContainers)

### IQueryTranslator
- **Expected Namespace**: `FractalDataWorks.Services.Connections.Abstractions.Translators`
- **Occurrences**: 4 in MsSqlService.cs, TSqlQueryTranslator.cs
- **Status**: DOES NOT EXIST (part of DataContainers)

### IResultMapper
- **Expected Namespace**: `FractalDataWorks.Services.Connections.Abstractions.Translators`
- **Occurrences**: 3 in MsSqlService.cs
- **Status**: DOES NOT EXIST (part of DataContainers)

### TranslatorCapabilities
- **Expected Namespace**: `FractalDataWorks.Services.Connections.Abstractions.Translators`
- **Occurrences**: 2 in TSqlQueryTranslator.cs
- **Status**: DOES NOT EXIST (part of DataContainers)

### IExternalDataConnection<>
- **Expected Namespace**: `FractalDataWorks.Services.Connections.Abstractions`
- **Occurrences**: 1 in MsSqlExternalConnection.cs
- **Status**: DOES NOT EXIST (part of DataContainers)

### IGenericConnectionConfiguration
- **Expected Namespace**: `FractalDataWorks.Services.Connections.Abstractions`
- **Occurrences**: 1 in MsSqlService.cs
- **Status**: DOES NOT EXIST (part of DataContainers)

### IDataGateway
- **Expected Namespace**: `FractalDataWorks.Services.DataGateway.Abstractions`
- **Occurrences**: 2 in RecEndpoint.cs
- **Status**: DOES NOT EXIST (part of DataContainers)

## Category 3: Source Generator Issues

These types should be generated by source generators but are missing:

### EmptyDataGatewayType
- **Generator**: ServiceTypeCollectionGenerator
- **Occurrences**: 1 in DataGatewayTypes.g.cs
- **Issue**: Generator not creating Empty types correctly

### Process State Types
All in `src\FractalDataWorks.Services.Execution.Abstractions\obj\Debug\netstandard2.0\...\ProcessStates.g.cs`:
- Completed (1)
- CompletedState (1)
- Created (1)
- CreatedState (1)
- Cancelled (1)
- CancelledState (1)
- Running (1)
- RunningState (1)
- Failed (1)
- FailedState (1)
- Pending (1)
- PendingState (1)
- TimedOutState (1)

**Issue**: Source generator is referencing types that don't exist or naming mismatch

## Category 4: Missing Implementations (Need to Create)

### HttpServiceBase<>
- **Expected Location**: `FractalDataWorks.Services.Connections.Http`
- **Occurrences**: 1 in RestService.cs
- **Status**: DOES NOT EXIST - needs implementation

### MsSqlConnectionFactory
- **Expected Location**: `FractalDataWorks.Services.Connections.MsSql`
- **Occurrences**: 1 in MsSqlConnectionType.cs
- **Status**: DOES NOT EXIST - needs implementation

### RestQueryTranslator
- **Expected Location**: `FractalDataWorks.Services.Connections.Rest`
- **Occurrences**: 2 in RestService.cs
- **Status**: DOES NOT EXIST - needs implementation

### JsonResultMapper
- **Expected Location**: `FractalDataWorks.Services.Connections.Rest`
- **Occurrences**: 2 in RestService.cs
- **Status**: DOES NOT EXIST - needs implementation

### SecretManagerServiceFactory<,>
- **Expected Location**: `FractalDataWorks.Services.SecretManagers`
- **Occurrences**: 1 in AzureKeyVaultServiceType.cs
- **Status**: DOES NOT EXIST - needs implementation

### AzureKeyVaultConfiguration
- **Expected Location**: `FractalDataWorks.Services.SecretManagers.AzureKeyVault`
- **Occurrences**: 1 in AzureKeyVaultServiceType.cs
- **Status**: DOES NOT EXIST - needs implementation

## Category 5: Missing Service Type Interfaces

### ISchedulerType
- **Expected Namespace**: `FractalDataWorks.Services.Scheduling.Abstractions`
- **Occurrences**: 8 in SchedulerTypes.g.cs (generated file)
- **Status**: DOES NOT EXIST - interface missing

### ISecretManagerServiceType
- **Expected Namespace**: `FractalDataWorks.Services.SecretManagers.Abstractions`
- **Occurrences**: 8 in SecretManagerServiceTypes.g.cs (generated file)
- **Status**: DOES NOT EXIST - interface missing

### ITransformationType
- **Expected Namespace**: `FractalDataWorks.Services.Transformations.Abstractions`
- **Occurrences**: 8 in TransformationTypes.g.cs (generated file)
- **Status**: DOES NOT EXIST - interface missing

## Recommended Action Plan

### Phase 1: Quick Wins (Can Fix Now)
1. ✅ Add missing using statements for existing types (IServiceType, ConnectionServiceBase)
2. ✅ Create missing service type interfaces (ISchedulerType, ISecretManagerServiceType, ITransformationType)

### Phase 2: Missing Implementations (Can Create)
3. Create HttpServiceBase<>
4. Create MsSqlConnectionFactory
5. Create RestQueryTranslator
6. Create JsonResultMapper
7. Create SecretManagerServiceFactory<,>
8. Create AzureKeyVaultConfiguration

### Phase 3: DataContainers (Blocked - Wait for Feature Decision)
- All DataContainers-related types are deferred
- Do NOT create placeholder types
- Wait for business decision on feature completion

### Phase 4: Source Generator Fixes
- Fix ProcessStates generator naming issues
- Fix ServiceTypeCollectionGenerator Empty type generation

## Impact Analysis

### After Phase 1 Fixes:
- Expected reduction: ~10 errors

### After Phase 2 Fixes:
- Expected reduction: ~15 errors

### Remaining After Phases 1-2:
- ~92 errors (all DataContainers-related)

### Total Resolution:
- Requires completing or removing DataContainers feature
